
<%= link_to room_path(room) do %>
  <div class="room-item room-<%= room.id %>">

    <div class="room-item-user">
      
        <% if current_user.id != room.user_id %>
        
          <div class="room-item-user-icon">
            <% if room.user.icon.file == nil %>
              <%= image_tag '/user_icon/user_default.jpg', size: 50 %>
            <% else %>
              <%= image_tag room.user.icon.to_s, size: 50 %>
            <% end %>
          </div>
          <div class="room-item-user-name">
            <%= room.user.name %>
          </div>

        <% else %>

          <div class="room-item-user-icon">
            <% if room.friend.icon.file == nil %>
              <%= image_tag '/user_icon/user_default.jpg', size: 50 %>
            <% else %>
              <%= image_tag room.friend.icon.to_s, size: 50 %>
            <% end %>
          </div>
          <div class="room-item-user-name">
            <%= room.friend.name %>
          </div>

        <% end %>

    </div>

    <%= render 'messages/count', room: room, current_user: current_user %>

  </div>

<% end %>
