<% if current_user.favorite?(post) %>
  <%= form_with(model: current_user.favorites.find_by(post_id: post.id), method: :delete) do |f| %>
    <%= hidden_field_tag :post_id, post.id %>
    <%= f.button :type => "submit", style: 'border-style: none; background-color: white;' do %>
      <i class='fas fa-star'></i>
    <% end %>
  <% end %>
<% else %>
  <%= form_with(model: current_user.favorites.build) do |f| %>
    <%= hidden_field_tag :post_id, post.id %>
    <%= f.button :type => "submit", style: 'border-style: none; background-color: white;' do %>
      <i class='far fa-star'></i> 
    <% end %>
  <% end %>
<% end %>